# Practical Example: E-Commerce Database Design

> A complete walkthrough from requirements to normalized schema

## ğŸ“š Table of Contents

1. [Project Overview](#project-overview)
2. [Requirements Gathering](#requirements-gathering)
3. [Identifying Entities](#identifying-entities)
4. [Entity-Relationship Diagram](#entity-relationship-diagram)
5. [Initial Table Design (UNF)](#initial-table-design-unf)
6. [Step-by-Step Normalization](#step-by-step-normalization)
7. [Final Normalized Schema](#final-normalized-schema)
8. [SQL Implementation](#sql-implementation)
9. [Sample Data and Queries](#sample-data-and-queries)

---

## Project Overview

We're designing a database for an **online bookstore** called "BookMart". The system needs to handle customers, books, orders, and inventory management.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BOOKMART - ONLINE BOOKSTORE                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  FEATURES:                                                           â”‚
â”‚  â€¢ Customer registration and management                             â”‚
â”‚  â€¢ Book catalog with multiple authors per book                      â”‚
â”‚  â€¢ Multiple categories per book                                     â”‚
â”‚  â€¢ Shopping cart and order processing                               â”‚
â”‚  â€¢ Order history and tracking                                       â”‚
â”‚  â€¢ Publisher information                                            â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Requirements Gathering

### Business Requirements

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS REQUIREMENTS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  CUSTOMERS:                                                          â”‚
â”‚  â€¢ Customers register with email (unique), name, and password       â”‚
â”‚  â€¢ Customers have one or more shipping addresses                    â”‚
â”‚  â€¢ Each customer can place multiple orders                          â”‚
â”‚                                                                      â”‚
â”‚  BOOKS:                                                              â”‚
â”‚  â€¢ Each book has ISBN (unique), title, price, and publication date  â”‚
â”‚  â€¢ A book can have multiple authors                                 â”‚
â”‚  â€¢ An author can write multiple books                               â”‚
â”‚  â€¢ A book belongs to one publisher                                  â”‚
â”‚  â€¢ A book can belong to multiple categories                         â”‚
â”‚                                                                      â”‚
â”‚  ORDERS:                                                             â”‚
â”‚  â€¢ An order contains one or more books                              â”‚
â”‚  â€¢ Each order item has a quantity                                   â”‚
â”‚  â€¢ Orders have a date, status, and shipping address                 â”‚
â”‚  â€¢ Order total is calculated from items                             â”‚
â”‚                                                                      â”‚
â”‚  AUTHORS:                                                            â”‚
â”‚  â€¢ Authors have name, biography, and optional website               â”‚
â”‚                                                                      â”‚
â”‚  PUBLISHERS:                                                         â”‚
â”‚  â€¢ Publishers have name, address, and contact email                 â”‚
â”‚                                                                      â”‚
â”‚  CATEGORIES:                                                         â”‚
â”‚  â€¢ Categories have name and optional description                    â”‚
â”‚  â€¢ Categories can have parent categories (hierarchy)                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Business Rules

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BUSINESS RULES                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  1. Customer email must be unique                                   â”‚
â”‚  2. ISBN must be unique (13 characters)                             â”‚
â”‚  3. Book price must be greater than 0                               â”‚
â”‚  4. Order quantity must be at least 1                               â”‚
â”‚  5. An order must have at least one item                            â”‚
â”‚  6. A book must have at least one author                            â”‚
â”‚  7. A book must belong to at least one category                     â”‚
â”‚  8. Order status: PENDING, PROCESSING, SHIPPED, DELIVERED, CANCELLEDâ”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Identifying Entities

### Main Entities

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENTITIES IDENTIFIED                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  STRONG ENTITIES (Independent):                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Customer    - People who buy books                        â”‚       â”‚
â”‚  â”‚ Book        - Products being sold                         â”‚       â”‚
â”‚  â”‚ Author      - Writers of books                            â”‚       â”‚
â”‚  â”‚ Publisher   - Companies that publish books                â”‚       â”‚
â”‚  â”‚ Category    - Book classifications                        â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  WEAK ENTITIES (Dependent):                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Address     - Depends on Customer                         â”‚       â”‚
â”‚  â”‚ Order       - Depends on Customer                         â”‚       â”‚
â”‚  â”‚ OrderItem   - Depends on Order and Book                   â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â”‚  JUNCTION ENTITIES (M:N Relationships):                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ BookAuthor  - Links Book and Author (M:N)                 â”‚       â”‚
â”‚  â”‚ BookCategory- Links Book and Category (M:N)               â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Entity Attributes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ENTITY ATTRIBUTES                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  CUSTOMER:                                                           â”‚
â”‚  â€¢ CustomerID (PK)                                                  â”‚
â”‚  â€¢ Email (Unique)                                                   â”‚
â”‚  â€¢ FirstName                                                        â”‚
â”‚  â€¢ LastName                                                         â”‚
â”‚  â€¢ PasswordHash                                                     â”‚
â”‚  â€¢ CreatedAt                                                        â”‚
â”‚                                                                      â”‚
â”‚  ADDRESS:                                                            â”‚
â”‚  â€¢ AddressID (PK)                                                   â”‚
â”‚  â€¢ CustomerID (FK)                                                  â”‚
â”‚  â€¢ Street                                                           â”‚
â”‚  â€¢ City                                                             â”‚
â”‚  â€¢ State                                                            â”‚
â”‚  â€¢ ZipCode                                                          â”‚
â”‚  â€¢ Country                                                          â”‚
â”‚  â€¢ IsDefault                                                        â”‚
â”‚                                                                      â”‚
â”‚  BOOK:                                                               â”‚
â”‚  â€¢ BookID (PK)                                                      â”‚
â”‚  â€¢ ISBN (Unique)                                                    â”‚
â”‚  â€¢ Title                                                            â”‚
â”‚  â€¢ Description                                                      â”‚
â”‚  â€¢ Price                                                            â”‚
â”‚  â€¢ PublicationDate                                                  â”‚
â”‚  â€¢ PublisherID (FK)                                                 â”‚
â”‚  â€¢ StockQuantity                                                    â”‚
â”‚                                                                      â”‚
â”‚  AUTHOR:                                                             â”‚
â”‚  â€¢ AuthorID (PK)                                                    â”‚
â”‚  â€¢ FirstName                                                        â”‚
â”‚  â€¢ LastName                                                         â”‚
â”‚  â€¢ Biography                                                        â”‚
â”‚  â€¢ Website                                                          â”‚
â”‚                                                                      â”‚
â”‚  PUBLISHER:                                                          â”‚
â”‚  â€¢ PublisherID (PK)                                                 â”‚
â”‚  â€¢ Name                                                             â”‚
â”‚  â€¢ Address                                                          â”‚
â”‚  â€¢ Email                                                            â”‚
â”‚  â€¢ Phone                                                            â”‚
â”‚                                                                      â”‚
â”‚  CATEGORY:                                                           â”‚
â”‚  â€¢ CategoryID (PK)                                                  â”‚
â”‚  â€¢ Name                                                             â”‚
â”‚  â€¢ Description                                                      â”‚
â”‚  â€¢ ParentCategoryID (FK, self-reference)                           â”‚
â”‚                                                                      â”‚
â”‚  ORDER:                                                              â”‚
â”‚  â€¢ OrderID (PK)                                                     â”‚
â”‚  â€¢ CustomerID (FK)                                                  â”‚
â”‚  â€¢ AddressID (FK)                                                   â”‚
â”‚  â€¢ OrderDate                                                        â”‚
â”‚  â€¢ Status                                                           â”‚
â”‚  â€¢ TotalAmount                                                      â”‚
â”‚                                                                      â”‚
â”‚  ORDER_ITEM:                                                         â”‚
â”‚  â€¢ OrderID (PK, FK)                                                 â”‚
â”‚  â€¢ BookID (PK, FK)                                                  â”‚
â”‚  â€¢ Quantity                                                         â”‚
â”‚  â€¢ UnitPrice (price at time of order)                              â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Entity-Relationship Diagram

### Relationships Analysis

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RELATIONSHIP ANALYSIS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  RELATIONSHIP          â”‚ TYPE  â”‚ CARDINALITY                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Customer-Address      â”‚ 1:N   â”‚ 1 customer has many addresses      â”‚
â”‚  Customer-Order        â”‚ 1:N   â”‚ 1 customer places many orders      â”‚
â”‚  Order-Address         â”‚ N:1   â”‚ Many orders use 1 address          â”‚
â”‚  Order-OrderItem       â”‚ 1:N   â”‚ 1 order has many items             â”‚
â”‚  Book-OrderItem        â”‚ 1:N   â”‚ 1 book appears in many order items â”‚
â”‚  Book-Publisher        â”‚ N:1   â”‚ Many books from 1 publisher        â”‚
â”‚  Book-Author           â”‚ M:N   â”‚ Many books by many authors         â”‚
â”‚  Book-Category         â”‚ M:N   â”‚ Many books in many categories      â”‚
â”‚  Category-Category     â”‚ 1:N   â”‚ Self-ref: parent-child hierarchy   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ER Diagram (ASCII)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BOOKMART ER DIAGRAM                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚                                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚                                â”‚  CATEGORY  â”‚â—„â”€â”€â”€â”€â”€â”                        â”‚
â”‚                                â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚ (self-reference)       â”‚
â”‚                                      â”‚N            â”‚ Parent-Child           â”‚
â”‚                                 <BelongsTo>        â”‚                        â”‚
â”‚                                      â”‚M            â”‚                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”     â”‚                        â”‚
â”‚   â”‚  AUTHOR  â”‚â”€â”€â”€Mâ”€â”€<WrittenBy>â”€â”€Nâ”€â”€â”‚   BOOK     â”‚â”€â”€â”˜                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚            â”‚                          â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                            â”‚N                               â”‚
â”‚                                            â”‚                                â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     <PublishedBy>                          â”‚
â”‚   â”‚ PUBLISHER  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜1                                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â”‚
â”‚                                                                              â”‚
â”‚                                     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                          â”‚
â”‚                                     â”‚    BOOK    â”‚                          â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                            â”‚1                               â”‚
â”‚                                       <Contains>                            â”‚
â”‚                                            â”‚N                               â”‚
â”‚                                     â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”                          â”‚
â”‚                                     â”‚ ORDER_ITEM â”‚                          â”‚
â”‚                                     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                            â”‚N                               â”‚
â”‚                                       <HasItems>                            â”‚
â”‚                                            â”‚1                               â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       1           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚  ADDRESS  â”‚â—„â”€â”€â”€â”€â”€<ShipsTo>â”€â”€â”€â”€â”‚     ORDER      â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        N          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚         â”‚N                                  â”‚N                              â”‚
â”‚         â”‚                              <Places>                             â”‚
â”‚    <HasAddress>                            â”‚1                               â”‚
â”‚         â”‚1                          â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”                    â”‚  CUSTOMER   â”‚                        â”‚
â”‚   â”‚  CUSTOMER  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                            â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Peter Chen Notation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    RELATIONSHIPS IN PETER CHEN NOTATION              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  EXPANDED NOTATION:                                                  â”‚
â”‚                                                                      â”‚
â”‚  Customer (1,1) â”€â”€<Places>â”€â”€ (0,N) Order                            â”‚
â”‚  "1 customer places 0 or many orders"                               â”‚
â”‚  "1 order is placed by exactly 1 customer"                          â”‚
â”‚                                                                      â”‚
â”‚  Customer (1,1) â”€â”€<HasAddress>â”€â”€ (1,N) Address                      â”‚
â”‚  "1 customer has 1 or many addresses"                               â”‚
â”‚  "1 address belongs to exactly 1 customer"                          â”‚
â”‚                                                                      â”‚
â”‚  Order (1,1) â”€â”€<ShipsTo>â”€â”€ (0,N) Address                            â”‚
â”‚  "1 order ships to exactly 1 address"                               â”‚
â”‚  "1 address is used for 0 or many orders"                           â”‚
â”‚                                                                      â”‚
â”‚  Order (1,1) â”€â”€<HasItems>â”€â”€ (1,N) OrderItem                         â”‚
â”‚  "1 order has 1 or many items"                                      â”‚
â”‚  "1 order item belongs to exactly 1 order"                          â”‚
â”‚                                                                      â”‚
â”‚  Book (1,1) â”€â”€<Contains>â”€â”€ (0,N) OrderItem                          â”‚
â”‚  "1 book appears in 0 or many order items"                          â”‚
â”‚  "1 order item contains exactly 1 book"                             â”‚
â”‚                                                                      â”‚
â”‚  Publisher (1,1) â”€â”€<Publishes>â”€â”€ (1,N) Book                         â”‚
â”‚  "1 publisher publishes 1 or many books"                            â”‚
â”‚  "1 book is published by exactly 1 publisher"                       â”‚
â”‚                                                                      â”‚
â”‚  Book (1,N) â”€â”€<WrittenBy>â”€â”€ (1,N) Author                            â”‚
â”‚  "1 book is written by 1 or many authors"                           â”‚
â”‚  "1 author writes 1 or many books"                                  â”‚
â”‚  âš ï¸  M:N relationship - needs junction table                        â”‚
â”‚                                                                      â”‚
â”‚  Book (1,N) â”€â”€<BelongsTo>â”€â”€ (0,N) Category                          â”‚
â”‚  "1 book belongs to 1 or many categories"                           â”‚
â”‚  "1 category contains 0 or many books"                              â”‚
â”‚  âš ï¸  M:N relationship - needs junction table                        â”‚
â”‚                                                                      â”‚
â”‚  SIMPLIFIED NOTATION:                                                â”‚
â”‚                                                                      â”‚
â”‚  Customer â”€â”€1â”€â”€<Places>â”€â”€Nâ”€â”€ Order                                  â”‚
â”‚  Customer â”€â”€1â”€â”€<HasAddress>â”€â”€Nâ”€â”€ Address                            â”‚
â”‚  Order â”€â”€Nâ”€â”€<ShipsTo>â”€â”€1â”€â”€ Address                                  â”‚
â”‚  Order â”€â”€1â”€â”€<HasItems>â”€â”€Nâ”€â”€ OrderItem                               â”‚
â”‚  Book â”€â”€1â”€â”€<Contains>â”€â”€Nâ”€â”€ OrderItem                                â”‚
â”‚  Publisher â”€â”€1â”€â”€<Publishes>â”€â”€Nâ”€â”€ Book                               â”‚
â”‚  Book â”€â”€Nâ”€â”€<WrittenBy>â”€â”€Nâ”€â”€ Author                                  â”‚
â”‚  Book â”€â”€Nâ”€â”€<BelongsTo>â”€â”€Nâ”€â”€ Category                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Initial Table Design (UNF)

Let's start with an unnormalized design to see the problems:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    UNNORMALIZED DATA (UNF) - THE WRONG WAY           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  ORDERS Table (everything in one table):                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚OrderIDâ”‚CustName  â”‚CustEmail      â”‚ShippingAddress              â”‚ â”‚
â”‚  â”‚       â”‚          â”‚               â”‚                             â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚1      â”‚John Doe  â”‚john@email.com â”‚123 Main St, NYC, NY 10001   â”‚ â”‚
â”‚  â”‚2      â”‚John Doe  â”‚john@email.com â”‚456 Oak Ave, LA, CA 90001    â”‚ â”‚
â”‚  â”‚3      â”‚Jane Smithâ”‚jane@email.com â”‚789 Pine Rd, Chicago, IL     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                      â”‚
â”‚  (continued...)                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚Books                â”‚Authors          â”‚Publisher    â”‚Categoriesâ”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚Clean Code,          â”‚Robert Martin    â”‚Prentice Hallâ”‚Tech,     â”‚   â”‚
â”‚  â”‚Design Patterns      â”‚Gang of Four     â”‚             â”‚Software  â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚Clean Code           â”‚Robert Martin    â”‚Prentice Hallâ”‚Tech      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚Harry Potter         â”‚J.K. Rowling     â”‚Bloomsbury   â”‚Fiction,  â”‚   â”‚
â”‚  â”‚                     â”‚                 â”‚             â”‚Fantasy   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  PROBLEMS IDENTIFIED:                                                â”‚
â”‚  âœ— Multi-valued: Books, Authors, Categories in single cells        â”‚
â”‚  âœ— Composite: Address not atomic                                   â”‚
â”‚  âœ— Redundancy: Customer info repeated                              â”‚
â”‚  âœ— Redundancy: Publisher repeated for same publisher               â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Step-by-Step Normalization

### Step 1: First Normal Form (1NF)

**Goal**: Eliminate multi-valued and composite attributes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CONVERTING TO 1NF                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  BEFORE (Violates 1NF):                                             â”‚
â”‚  â€¢ "123 Main St, NYC, NY 10001" - composite address                â”‚
â”‚  â€¢ "Robert Martin, Gang of Four" - multi-valued authors            â”‚
â”‚  â€¢ "Tech, Software, Fiction" - multi-valued categories             â”‚
â”‚                                                                      â”‚
â”‚  AFTER (1NF - Atomic values):                                       â”‚
â”‚                                                                      â”‚
â”‚  1. SPLIT composite Address into separate columns:                  â”‚
â”‚     Street, City, State, ZipCode, Country                           â”‚
â”‚                                                                      â”‚
â”‚  2. CREATE separate tables for multi-valued attributes:             â”‚
â”‚                                                                      â”‚
â”‚  CUSTOMER:                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ CustomerID â”‚ FirstName â”‚ LastName â”‚ Email         â”‚              â”‚
â”‚  â”‚ (PK)       â”‚           â”‚          â”‚               â”‚              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤              â”‚
â”‚  â”‚ 1          â”‚ John      â”‚ Doe      â”‚ john@mail.com â”‚              â”‚
â”‚  â”‚ 2          â”‚ Jane      â”‚ Smith    â”‚ jane@mail.com â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                      â”‚
â”‚  ADDRESS:                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚AddressID â”‚ CustomerID â”‚ Street   â”‚ City   â”‚ State â”‚ ZipCode â”‚   â”‚
â”‚  â”‚(PK)      â”‚ (FK)       â”‚          â”‚        â”‚       â”‚         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ 1        â”‚ 1          â”‚ 123 Main â”‚ NYC    â”‚ NY    â”‚ 10001   â”‚   â”‚
â”‚  â”‚ 2        â”‚ 1          â”‚ 456 Oak  â”‚ LA     â”‚ CA    â”‚ 90001   â”‚   â”‚
â”‚  â”‚ 3        â”‚ 2          â”‚ 789 Pine â”‚ Chicagoâ”‚ IL    â”‚ 60601   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                      â”‚
â”‚  BOOK:                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ BookID â”‚ ISBN            â”‚ Title        â”‚ Price   â”‚ PubID    â”‚  â”‚
â”‚  â”‚ (PK)   â”‚                 â”‚              â”‚         â”‚ (FK)     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 1      â”‚ 978-0132350884  â”‚ Clean Code   â”‚ 39.99   â”‚ 1        â”‚  â”‚
â”‚  â”‚ 2      â”‚ 978-0201633610  â”‚ Design Patt. â”‚ 54.99   â”‚ 1        â”‚  â”‚
â”‚  â”‚ 3      â”‚ 978-0747532699  â”‚ Harry Potter â”‚ 12.99   â”‚ 2        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  AUTHOR:                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚ AuthorID â”‚ FirstName â”‚ LastName   â”‚                              â”‚
â”‚  â”‚ (PK)     â”‚           â”‚            â”‚                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                              â”‚
â”‚  â”‚ 1        â”‚ Robert    â”‚ Martin     â”‚                              â”‚
â”‚  â”‚ 2        â”‚ Erich     â”‚ Gamma      â”‚                              â”‚
â”‚  â”‚ 3        â”‚ J.K.      â”‚ Rowling    â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                      â”‚
â”‚  BOOK_AUTHOR (Junction for M:N):                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                              â”‚
â”‚  â”‚ BookID â”‚ AuthorID â”‚                                              â”‚
â”‚  â”‚ (PK,FK)â”‚ (PK,FK)  â”‚                                              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                              â”‚
â”‚  â”‚ 1      â”‚ 1        â”‚  â† Clean Code by Robert Martin              â”‚
â”‚  â”‚ 2      â”‚ 2        â”‚  â† Design Patterns by Gamma (GoF)           â”‚
â”‚  â”‚ 3      â”‚ 3        â”‚  â† Harry Potter by Rowling                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                              â”‚
â”‚                                                                      â”‚
â”‚  âœ“ All values are now atomic                                        â”‚
â”‚  âœ“ No multi-valued attributes                                       â”‚
â”‚  âœ“ No composite attributes                                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 2: Second Normal Form (2NF)

**Goal**: Eliminate partial dependencies (only for composite keys)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CHECKING FOR 2NF                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Tables with COMPOSITE PRIMARY KEYS:                                 â”‚
â”‚                                                                      â”‚
â”‚  ORDER_ITEM: (OrderID, BookID)                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ OrderID â”‚ BookID â”‚ Quantity â”‚ UnitPrice â”‚ BookTitle             â”‚â”‚
â”‚  â”‚ (PK)    â”‚ (PK)   â”‚          â”‚           â”‚                       â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ 1       â”‚ 1      â”‚ 2        â”‚ 39.99     â”‚ Clean Code            â”‚â”‚
â”‚  â”‚ 1       â”‚ 2      â”‚ 1        â”‚ 54.99     â”‚ Design Patterns       â”‚â”‚
â”‚  â”‚ 2       â”‚ 1      â”‚ 1        â”‚ 39.99     â”‚ Clean Code            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                      â”‚
â”‚  ANALYSIS:                                                           â”‚
â”‚  â€¢ (OrderID, BookID) â†’ Quantity    âœ“ FULL (needs both)             â”‚
â”‚  â€¢ (OrderID, BookID) â†’ UnitPrice   âœ“ FULL (price at order time)    â”‚
â”‚  â€¢ BookID â†’ BookTitle              âœ— PARTIAL (only needs BookID)   â”‚
â”‚                                                                      â”‚
â”‚  SOLUTION: Remove BookTitle (it's in BOOK table already)            â”‚
â”‚                                                                      â”‚
â”‚  ORDER_ITEM (2NF compliant):                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚ OrderID â”‚ BookID â”‚ Quantity â”‚ UnitPrice â”‚                        â”‚
â”‚  â”‚ (PK,FK) â”‚ (PK,FK)â”‚          â”‚           â”‚                        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                        â”‚
â”‚  â”‚ 1       â”‚ 1      â”‚ 2        â”‚ 39.99     â”‚                        â”‚
â”‚  â”‚ 1       â”‚ 2      â”‚ 1        â”‚ 54.99     â”‚                        â”‚
â”‚  â”‚ 2       â”‚ 1      â”‚ 1        â”‚ 39.99     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                      â”‚
â”‚  Note: UnitPrice stays because it's the price AT TIME OF ORDER      â”‚
â”‚        (historical accuracy, different from current book price)     â”‚
â”‚                                                                      â”‚
â”‚  BOOK_AUTHOR and BOOK_CATEGORY:                                      â”‚
â”‚  These junction tables have only FKs in their composite PK,         â”‚
â”‚  with no additional non-key attributes â†’ automatically in 2NF       â”‚
â”‚                                                                      â”‚
â”‚  âœ“ No partial dependencies remaining                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: Third Normal Form (3NF)

**Goal**: Eliminate transitive dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CHECKING FOR 3NF                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  CHECK: Does any non-key attribute depend on another non-key?       â”‚
â”‚                                                                      â”‚
â”‚  CUSTOMER Table:                                                     â”‚
â”‚  CustomerID â†’ {FirstName, LastName, Email}                          â”‚
â”‚  All depend directly on PK âœ“                                        â”‚
â”‚                                                                      â”‚
â”‚  ADDRESS Table:                                                      â”‚
â”‚  AddressID â†’ {CustomerID, Street, City, State, ZipCode, Country}   â”‚
â”‚  All depend directly on PK âœ“                                        â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸  POTENTIAL ISSUE: Does ZipCode â†’ City, State?                  â”‚
â”‚  In reality, yes! But for simplicity, we'll allow this.            â”‚
â”‚  For strict 3NF, we'd create a ZIPCODE table:                      â”‚
â”‚                                                                      â”‚
â”‚  STRICT 3NF (Optional - for demonstration):                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”                                     â”‚
â”‚  â”‚ ZipCode â”‚ City     â”‚ State â”‚                                     â”‚
â”‚  â”‚ (PK)    â”‚          â”‚       â”‚                                     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤                                     â”‚
â”‚  â”‚ 10001   â”‚ New York â”‚ NY    â”‚                                     â”‚
â”‚  â”‚ 90001   â”‚ Los Ang. â”‚ CA    â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                                                                      â”‚
â”‚  For this example, we'll keep City/State in Address (common practice)â”‚
â”‚                                                                      â”‚
â”‚  BOOK Table:                                                         â”‚
â”‚  BookID â†’ {ISBN, Title, Price, PublisherID, ...}                   â”‚
â”‚  All depend directly on PK âœ“                                        â”‚
â”‚                                                                      â”‚
â”‚  âš ï¸  What about Publisher details?                                  â”‚
â”‚  If we had: BookID â†’ PublisherID â†’ PublisherName, Address           â”‚
â”‚  That would be transitive! But Publisher is in its own table âœ“     â”‚
â”‚                                                                      â”‚
â”‚  ORDER Table:                                                        â”‚
â”‚  OrderID â†’ {CustomerID, AddressID, OrderDate, Status, TotalAmount} â”‚
â”‚  All depend directly on PK âœ“                                        â”‚
â”‚                                                                      â”‚
â”‚  âœ“ No transitive dependencies found                                 â”‚
â”‚  âœ“ Tables are in 3NF                                                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 4: Boyce-Codd Normal Form (BCNF)

**Goal**: Every determinant must be a candidate key

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CHECKING FOR BCNF                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  For each table, check: Is every determinant a superkey?            â”‚
â”‚                                                                      â”‚
â”‚  CUSTOMER:                                                           â”‚
â”‚  â€¢ CustomerID â†’ all attributes     âœ“ CustomerID is PK              â”‚
â”‚  â€¢ Email â†’ CustomerID (Email is unique candidate key)               â”‚
â”‚    âœ“ Email is also a candidate key (could be PK)                   â”‚
â”‚                                                                      â”‚
â”‚  ADDRESS:                                                            â”‚
â”‚  â€¢ AddressID â†’ all attributes      âœ“ AddressID is PK               â”‚
â”‚  No other functional dependencies                                   â”‚
â”‚                                                                      â”‚
â”‚  BOOK:                                                               â”‚
â”‚  â€¢ BookID â†’ all attributes         âœ“ BookID is PK                  â”‚
â”‚  â€¢ ISBN â†’ all attributes           âœ“ ISBN is candidate key         â”‚
â”‚                                                                      â”‚
â”‚  AUTHOR:                                                             â”‚
â”‚  â€¢ AuthorID â†’ all attributes       âœ“ AuthorID is PK                â”‚
â”‚                                                                      â”‚
â”‚  PUBLISHER:                                                          â”‚
â”‚  â€¢ PublisherID â†’ all attributes    âœ“ PublisherID is PK             â”‚
â”‚                                                                      â”‚
â”‚  CATEGORY:                                                           â”‚
â”‚  â€¢ CategoryID â†’ all attributes     âœ“ CategoryID is PK              â”‚
â”‚                                                                      â”‚
â”‚  ORDER:                                                              â”‚
â”‚  â€¢ OrderID â†’ all attributes        âœ“ OrderID is PK                 â”‚
â”‚                                                                      â”‚
â”‚  ORDER_ITEM:                                                         â”‚
â”‚  â€¢ (OrderID, BookID) â†’ Quantity, UnitPrice                         â”‚
â”‚    âœ“ Composite key is PK                                           â”‚
â”‚                                                                      â”‚
â”‚  BOOK_AUTHOR:                                                        â”‚
â”‚  â€¢ (BookID, AuthorID) â†’ nothing else                               â”‚
â”‚    âœ“ Only key attributes, automatically BCNF                       â”‚
â”‚                                                                      â”‚
â”‚  BOOK_CATEGORY:                                                      â”‚
â”‚  â€¢ (BookID, CategoryID) â†’ nothing else                             â”‚
â”‚    âœ“ Only key attributes, automatically BCNF                       â”‚
â”‚                                                                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚  ALL TABLES ARE IN BCNF! âœ“                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•    â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Final Normalized Schema

### Schema Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BOOKMART FINAL SCHEMA                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                         â”‚
â”‚  â”‚    CUSTOMER    â”‚                                                         â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                         â”‚
â”‚  â”‚ CustomerID (PK)â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚ Email (UQ)     â”‚                           â”‚                             â”‚
â”‚  â”‚ FirstName      â”‚                           â”‚                             â”‚
â”‚  â”‚ LastName       â”‚                           â”‚                             â”‚
â”‚  â”‚ PasswordHash   â”‚                           â”‚                             â”‚
â”‚  â”‚ CreatedAt      â”‚                           â”‚                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚                             â”‚
â”‚         â”‚1                                    â”‚1                            â”‚
â”‚         â”‚                                     â”‚                             â”‚
â”‚         â”‚N                                    â”‚N                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚    ADDRESS     â”‚                    â”‚     ORDER      â”‚                   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚  â”‚ AddressID (PK) â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ OrderID (PK)   â”‚                   â”‚
â”‚  â”‚ CustomerID (FK)â”‚                    â”‚ CustomerID (FK)â”‚                   â”‚
â”‚  â”‚ Street         â”‚        1        N  â”‚ AddressID (FK) â”‚                   â”‚
â”‚  â”‚ City           â”‚                    â”‚ OrderDate      â”‚                   â”‚
â”‚  â”‚ State          â”‚                    â”‚ Status         â”‚                   â”‚
â”‚  â”‚ ZipCode        â”‚                    â”‚ TotalAmount    â”‚                   â”‚
â”‚  â”‚ Country        â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”‚ IsDefault      â”‚                            â”‚1                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚                            â”‚
â”‚                                                â”‚N                           â”‚
â”‚                                         â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚                                         â”‚  ORDER_ITEM   â”‚                   â”‚
â”‚                                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚                                         â”‚ OrderID (PK,FKâ”‚                   â”‚
â”‚                                         â”‚ BookID (PK,FK)â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ Quantity      â”‚                   â”‚
â”‚  â”‚   PUBLISHER    â”‚                     â”‚ UnitPrice     â”‚                   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”‚ PublisherID(PK)â”‚                             â”‚N                          â”‚
â”‚  â”‚ Name           â”‚                             â”‚                           â”‚
â”‚  â”‚ Address        â”‚â”€â”€â”€â”€â”€â”€â”                      â”‚1                          â”‚
â”‚  â”‚ Email          â”‚      â”‚               â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚ Phone          â”‚      â”‚1              â”‚     BOOK     â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚                          â”‚N              â”‚ BookID (PK)  â”‚                   â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ ISBN (UQ)    â”‚                   â”‚
â”‚                                          â”‚ Title        â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       N           N  â”‚ Description  â”‚                   â”‚
â”‚  â”‚    AUTHOR      â”‚â—„â”€â”€â”€â”€<BOOK_AUTHOR>â”€â”€â”€â–ºâ”‚ Price        â”‚                   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                      â”‚ PublishDate  â”‚                   â”‚
â”‚  â”‚ AuthorID (PK)  â”‚                      â”‚ PublisherID  â”‚                   â”‚
â”‚  â”‚ FirstName      â”‚                      â”‚ StockQty     â”‚                   â”‚
â”‚  â”‚ LastName       â”‚                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚  â”‚ Biography      â”‚                             â”‚N                          â”‚
â”‚  â”‚ Website        â”‚                             â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        <BOOK_CATEGORY>                  â”‚
â”‚                                                 â”‚N                          â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                          â”‚                                                  â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚                   â”‚   CATEGORY   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚                              â”‚
â”‚                   â”‚CategoryID(PK)â”‚           â”‚ (self-reference)             â”‚
â”‚                   â”‚ Name         â”‚           â”‚                              â”‚
â”‚                   â”‚ Description  â”‚           â”‚                              â”‚
â”‚                   â”‚ ParentCatID  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## SQL Implementation

### Complete DDL Script

```sql
-- =====================================================
-- BOOKMART DATABASE - COMPLETE SCHEMA
-- Normalized to BCNF
-- =====================================================

-- Drop tables if they exist (for re-running)
DROP TABLE IF EXISTS OrderItem;
DROP TABLE IF EXISTS BookCategory;
DROP TABLE IF EXISTS BookAuthor;
DROP TABLE IF EXISTS "Order";
DROP TABLE IF EXISTS Address;
DROP TABLE IF EXISTS Book;
DROP TABLE IF EXISTS Category;
DROP TABLE IF EXISTS Author;
DROP TABLE IF EXISTS Publisher;
DROP TABLE IF EXISTS Customer;

-- =====================================================
-- CUSTOMER TABLE
-- =====================================================
CREATE TABLE Customer (
    CustomerID SERIAL PRIMARY KEY,
    Email VARCHAR(255) NOT NULL UNIQUE,
    FirstName VARCHAR(100) NOT NULL,
    LastName VARCHAR(100) NOT NULL,
    PasswordHash VARCHAR(255) NOT NULL,
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    IsActive BOOLEAN DEFAULT TRUE
);

-- Index for email lookups (login)
CREATE INDEX idx_customer_email ON Customer(Email);

-- =====================================================
-- ADDRESS TABLE
-- =====================================================
CREATE TABLE Address (
    AddressID SERIAL PRIMARY KEY,
    CustomerID INT NOT NULL,
    Street VARCHAR(255) NOT NULL,
    City VARCHAR(100) NOT NULL,
    State VARCHAR(100) NOT NULL,
    ZipCode VARCHAR(20) NOT NULL,
    Country VARCHAR(100) NOT NULL DEFAULT 'USA',
    IsDefault BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID)
        ON DELETE CASCADE
);

-- Index for customer's addresses
CREATE INDEX idx_address_customer ON Address(CustomerID);

-- =====================================================
-- PUBLISHER TABLE
-- =====================================================
CREATE TABLE Publisher (
    PublisherID SERIAL PRIMARY KEY,
    Name VARCHAR(255) NOT NULL,
    Address VARCHAR(500),
    Email VARCHAR(255),
    Phone VARCHAR(50)
);

-- =====================================================
-- AUTHOR TABLE
-- =====================================================
CREATE TABLE Author (
    AuthorID SERIAL PRIMARY KEY,
    FirstName VARCHAR(100) NOT NULL,
    LastName VARCHAR(100) NOT NULL,
    Biography TEXT,
    Website VARCHAR(255)
);

-- Index for author name searches
CREATE INDEX idx_author_name ON Author(LastName, FirstName);

-- =====================================================
-- CATEGORY TABLE (with self-reference for hierarchy)
-- =====================================================
CREATE TABLE Category (
    CategoryID SERIAL PRIMARY KEY,
    Name VARCHAR(100) NOT NULL,
    Description TEXT,
    ParentCategoryID INT,
    FOREIGN KEY (ParentCategoryID) REFERENCES Category(CategoryID)
        ON DELETE SET NULL
);

-- =====================================================
-- BOOK TABLE
-- =====================================================
CREATE TABLE Book (
    BookID SERIAL PRIMARY KEY,
    ISBN VARCHAR(13) NOT NULL UNIQUE,
    Title VARCHAR(500) NOT NULL,
    Description TEXT,
    Price DECIMAL(10, 2) NOT NULL CHECK (Price > 0),
    PublicationDate DATE,
    PublisherID INT NOT NULL,
    StockQuantity INT DEFAULT 0 CHECK (StockQuantity >= 0),
    CreatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (PublisherID) REFERENCES Publisher(PublisherID)
);

-- Indexes for common searches
CREATE INDEX idx_book_isbn ON Book(ISBN);
CREATE INDEX idx_book_title ON Book(Title);
CREATE INDEX idx_book_publisher ON Book(PublisherID);

-- =====================================================
-- BOOK_AUTHOR JUNCTION TABLE (M:N)
-- =====================================================
CREATE TABLE BookAuthor (
    BookID INT NOT NULL,
    AuthorID INT NOT NULL,
    PRIMARY KEY (BookID, AuthorID),
    FOREIGN KEY (BookID) REFERENCES Book(BookID)
        ON DELETE CASCADE,
    FOREIGN KEY (AuthorID) REFERENCES Author(AuthorID)
        ON DELETE CASCADE
);

-- =====================================================
-- BOOK_CATEGORY JUNCTION TABLE (M:N)
-- =====================================================
CREATE TABLE BookCategory (
    BookID INT NOT NULL,
    CategoryID INT NOT NULL,
    PRIMARY KEY (BookID, CategoryID),
    FOREIGN KEY (BookID) REFERENCES Book(BookID)
        ON DELETE CASCADE,
    FOREIGN KEY (CategoryID) REFERENCES Category(CategoryID)
        ON DELETE CASCADE
);

-- =====================================================
-- ORDER TABLE
-- =====================================================
CREATE TABLE "Order" (
    OrderID SERIAL PRIMARY KEY,
    CustomerID INT NOT NULL,
    AddressID INT NOT NULL,
    OrderDate TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    Status VARCHAR(20) DEFAULT 'PENDING' 
        CHECK (Status IN ('PENDING', 'PROCESSING', 'SHIPPED', 'DELIVERED', 'CANCELLED')),
    TotalAmount DECIMAL(10, 2) DEFAULT 0,
    FOREIGN KEY (CustomerID) REFERENCES Customer(CustomerID),
    FOREIGN KEY (AddressID) REFERENCES Address(AddressID)
);

-- Indexes for order queries
CREATE INDEX idx_order_customer ON "Order"(CustomerID);
CREATE INDEX idx_order_date ON "Order"(OrderDate);
CREATE INDEX idx_order_status ON "Order"(Status);

-- =====================================================
-- ORDER_ITEM TABLE
-- =====================================================
CREATE TABLE OrderItem (
    OrderID INT NOT NULL,
    BookID INT NOT NULL,
    Quantity INT NOT NULL CHECK (Quantity > 0),
    UnitPrice DECIMAL(10, 2) NOT NULL CHECK (UnitPrice > 0),
    PRIMARY KEY (OrderID, BookID),
    FOREIGN KEY (OrderID) REFERENCES "Order"(OrderID)
        ON DELETE CASCADE,
    FOREIGN KEY (BookID) REFERENCES Book(BookID)
);

-- =====================================================
-- USEFUL VIEWS
-- =====================================================

-- View: Books with their authors
CREATE VIEW BookWithAuthors AS
SELECT 
    b.BookID,
    b.ISBN,
    b.Title,
    b.Price,
    STRING_AGG(a.FirstName || ' ' || a.LastName, ', ') AS Authors
FROM Book b
JOIN BookAuthor ba ON b.BookID = ba.BookID
JOIN Author a ON ba.AuthorID = a.AuthorID
GROUP BY b.BookID, b.ISBN, b.Title, b.Price;

-- View: Order details
CREATE VIEW OrderDetails AS
SELECT 
    o.OrderID,
    o.OrderDate,
    o.Status,
    c.FirstName || ' ' || c.LastName AS CustomerName,
    c.Email,
    b.Title AS BookTitle,
    oi.Quantity,
    oi.UnitPrice,
    (oi.Quantity * oi.UnitPrice) AS LineTotal
FROM "Order" o
JOIN Customer c ON o.CustomerID = c.CustomerID
JOIN OrderItem oi ON o.OrderID = oi.OrderID
JOIN Book b ON oi.BookID = b.BookID;
```

---

## Sample Data and Queries

### Insert Sample Data

```sql
-- =====================================================
-- SAMPLE DATA
-- =====================================================

-- Publishers
INSERT INTO Publisher (Name, Email) VALUES
    ('Prentice Hall', 'contact@prenticehall.com'),
    ('Bloomsbury', 'info@bloomsbury.com'),
    ('O''Reilly Media', 'orders@oreilly.com');

-- Authors
INSERT INTO Author (FirstName, LastName, Biography) VALUES
    ('Robert', 'Martin', 'Software craftsman and author'),
    ('Erich', 'Gamma', 'Gang of Four member'),
    ('J.K.', 'Rowling', 'British author'),
    ('Martin', 'Fowler', 'Software development author');

-- Categories
INSERT INTO Category (Name, Description, ParentCategoryID) VALUES
    ('Technology', 'Technology books', NULL),
    ('Fiction', 'Fiction books', NULL),
    ('Programming', 'Programming books', 1),    -- Child of Technology
    ('Fantasy', 'Fantasy novels', 2);            -- Child of Fiction

-- Books
INSERT INTO Book (ISBN, Title, Description, Price, PublisherID, StockQuantity) VALUES
    ('9780132350884', 'Clean Code', 'A handbook of agile software craftsmanship', 39.99, 1, 100),
    ('9780201633610', 'Design Patterns', 'Elements of reusable software', 54.99, 1, 50),
    ('9780747532699', 'Harry Potter and the Philosophers Stone', 'Fantasy novel', 12.99, 2, 200),
    ('9780596007126', 'Head First Design Patterns', 'Brain-friendly guide', 44.99, 3, 75);

-- Book-Author relationships
INSERT INTO BookAuthor (BookID, AuthorID) VALUES
    (1, 1),  -- Clean Code by Robert Martin
    (2, 2),  -- Design Patterns by Erich Gamma
    (3, 3),  -- Harry Potter by J.K. Rowling
    (4, 2),  -- Head First by Gamma
    (4, 4);  -- Head First by Fowler (multiple authors)

-- Book-Category relationships
INSERT INTO BookCategory (BookID, CategoryID) VALUES
    (1, 3),  -- Clean Code in Programming
    (2, 3),  -- Design Patterns in Programming
    (3, 4),  -- Harry Potter in Fantasy
    (3, 2),  -- Harry Potter also in Fiction
    (4, 3);  -- Head First in Programming

-- Customers
INSERT INTO Customer (Email, FirstName, LastName, PasswordHash) VALUES
    ('john@example.com', 'John', 'Doe', 'hashed_password_1'),
    ('jane@example.com', 'Jane', 'Smith', 'hashed_password_2');

-- Addresses
INSERT INTO Address (CustomerID, Street, City, State, ZipCode, IsDefault) VALUES
    (1, '123 Main Street', 'New York', 'NY', '10001', TRUE),
    (1, '456 Office Blvd', 'New York', 'NY', '10002', FALSE),
    (2, '789 Oak Avenue', 'Los Angeles', 'CA', '90001', TRUE);

-- Orders
INSERT INTO "Order" (CustomerID, AddressID, Status, TotalAmount) VALUES
    (1, 1, 'DELIVERED', 94.98),
    (1, 2, 'PROCESSING', 39.99),
    (2, 3, 'SHIPPED', 12.99);

-- Order Items
INSERT INTO OrderItem (OrderID, BookID, Quantity, UnitPrice) VALUES
    (1, 1, 1, 39.99),   -- Order 1: Clean Code
    (1, 2, 1, 54.99),   -- Order 1: Design Patterns
    (2, 1, 1, 39.99),   -- Order 2: Clean Code
    (3, 3, 1, 12.99);   -- Order 3: Harry Potter
```

### Common Queries

```sql
-- =====================================================
-- COMMON QUERIES
-- =====================================================

-- 1. Find all books by a specific author
SELECT b.Title, b.Price, b.ISBN
FROM Book b
JOIN BookAuthor ba ON b.BookID = ba.BookID
JOIN Author a ON ba.AuthorID = a.AuthorID
WHERE a.LastName = 'Martin';

-- 2. Get all books in a category (including subcategories)
WITH RECURSIVE CategoryTree AS (
    SELECT CategoryID, Name, ParentCategoryID
    FROM Category
    WHERE Name = 'Technology'
    
    UNION ALL
    
    SELECT c.CategoryID, c.Name, c.ParentCategoryID
    FROM Category c
    JOIN CategoryTree ct ON c.ParentCategoryID = ct.CategoryID
)
SELECT DISTINCT b.Title, b.Price
FROM Book b
JOIN BookCategory bc ON b.BookID = bc.BookID
JOIN CategoryTree ct ON bc.CategoryID = ct.CategoryID;

-- 3. Get order history for a customer
SELECT 
    o.OrderID,
    o.OrderDate,
    o.Status,
    STRING_AGG(b.Title, ', ') AS Books,
    o.TotalAmount
FROM "Order" o
JOIN OrderItem oi ON o.OrderID = oi.OrderID
JOIN Book b ON oi.BookID = b.BookID
WHERE o.CustomerID = 1
GROUP BY o.OrderID, o.OrderDate, o.Status, o.TotalAmount
ORDER BY o.OrderDate DESC;

-- 4. Find best-selling books
SELECT 
    b.Title,
    SUM(oi.Quantity) AS TotalSold
FROM Book b
JOIN OrderItem oi ON b.BookID = oi.BookID
JOIN "Order" o ON oi.OrderID = o.OrderID
WHERE o.Status != 'CANCELLED'
GROUP BY b.BookID, b.Title
ORDER BY TotalSold DESC
LIMIT 10;

-- 5. Calculate total revenue by category
SELECT 
    c.Name AS Category,
    SUM(oi.Quantity * oi.UnitPrice) AS Revenue
FROM Category c
JOIN BookCategory bc ON c.CategoryID = bc.CategoryID
JOIN Book b ON bc.BookID = b.BookID
JOIN OrderItem oi ON b.BookID = oi.BookID
JOIN "Order" o ON oi.OrderID = o.OrderID
WHERE o.Status = 'DELIVERED'
GROUP BY c.CategoryID, c.Name
ORDER BY Revenue DESC;

-- 6. Find books with multiple authors
SELECT 
    b.Title,
    COUNT(ba.AuthorID) AS AuthorCount,
    STRING_AGG(a.FirstName || ' ' || a.LastName, ', ') AS Authors
FROM Book b
JOIN BookAuthor ba ON b.BookID = ba.BookID
JOIN Author a ON ba.AuthorID = a.AuthorID
GROUP BY b.BookID, b.Title
HAVING COUNT(ba.AuthorID) > 1;

-- 7. Customer's complete order with shipping address
SELECT 
    o.OrderID,
    o.OrderDate,
    o.Status,
    c.FirstName || ' ' || c.LastName AS Customer,
    a.Street || ', ' || a.City || ', ' || a.State || ' ' || a.ZipCode AS ShippingAddress,
    b.Title,
    oi.Quantity,
    oi.UnitPrice,
    (oi.Quantity * oi.UnitPrice) AS Subtotal,
    o.TotalAmount
FROM "Order" o
JOIN Customer c ON o.CustomerID = c.CustomerID
JOIN Address a ON o.AddressID = a.AddressID
JOIN OrderItem oi ON o.OrderID = oi.OrderID
JOIN Book b ON oi.BookID = b.BookID
WHERE o.OrderID = 1;
```

---

## Summary

### What We Learned

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PRACTICAL EXAMPLE SUMMARY                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  1. REQUIREMENTS FIRST                                               â”‚
â”‚     â€¢ Gathered business rules and constraints                       â”‚
â”‚     â€¢ Identified entities and relationships                         â”‚
â”‚     â€¢ Documented everything before coding                           â”‚
â”‚                                                                      â”‚
â”‚  2. IDENTIFIED RELATIONSHIPS                                         â”‚
â”‚     â€¢ 1:N - Customer to Orders, Publisher to Books                  â”‚
â”‚     â€¢ M:N - Books to Authors, Books to Categories                   â”‚
â”‚     â€¢ Self-reference - Category hierarchy                           â”‚
â”‚                                                                      â”‚
â”‚  3. NORMALIZED STEP-BY-STEP                                          â”‚
â”‚     â€¢ 1NF: Made all values atomic                                   â”‚
â”‚     â€¢ 2NF: Removed partial dependencies                             â”‚
â”‚     â€¢ 3NF: Removed transitive dependencies                          â”‚
â”‚     â€¢ BCNF: Verified all determinants are superkeys                 â”‚
â”‚                                                                      â”‚
â”‚  4. IMPLEMENTED PROFESSIONALLY                                       â”‚
â”‚     â€¢ Used appropriate data types                                   â”‚
â”‚     â€¢ Added constraints (PK, FK, UNIQUE, CHECK)                     â”‚
â”‚     â€¢ Created indexes for performance                               â”‚
â”‚     â€¢ Added views for common queries                                â”‚
â”‚                                                                      â”‚
â”‚  5. TESTED WITH REAL DATA                                            â”‚
â”‚     â€¢ Inserted sample data                                          â”‚
â”‚     â€¢ Verified relationships work correctly                         â”‚
â”‚     â€¢ Tested common query patterns                                  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Final Schema Statistics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SCHEMA STATISTICS                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Tables: 10                                                          â”‚
â”‚  â€¢ Strong Entities: 5 (Customer, Book, Author, Publisher, Category) â”‚
â”‚  â€¢ Weak Entities: 3 (Address, Order, OrderItem)                     â”‚
â”‚  â€¢ Junction Tables: 2 (BookAuthor, BookCategory)                    â”‚
â”‚                                                                      â”‚
â”‚  Relationships:                                                      â”‚
â”‚  â€¢ 1:N relationships: 5                                             â”‚
â”‚  â€¢ M:N relationships: 2 (resolved with junction tables)             â”‚
â”‚  â€¢ Self-reference: 1 (Category hierarchy)                           â”‚
â”‚                                                                      â”‚
â”‚  Normalization: BCNF                                                 â”‚
â”‚  â€¢ No redundancy                                                    â”‚
â”‚  â€¢ No anomalies                                                     â”‚
â”‚  â€¢ Data integrity enforced                                          â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Congratulations!** You've completed the Database Modeling Tutorial! ğŸ‰

You now have the knowledge to:
- Design entity-relationship diagrams
- Understand and apply cardinalities
- Identify functional dependencies
- Normalize databases to BCNF
- Implement professional database schemas

---

**Previous:** [â† Anomalies & Best Practices](./05_anomalies_best_practices.md)

**Back to:** [Introduction](./00_introduction.md)
